var myLineChart,myLineChart2;function calculateTax2023_2024(){var e=document.getElementById("monthlySalary");if(clearDigError(),ShowCopy(),19<e.value.length)DigError(),HideCharts();else if("+"===e.value||"+"===e.value||"-"===e.value)signError();else{e=parseFloat(document.getElementById("monthlySalary").value);if(isNaN(e)||"-"===e)Clear();else{var t,n=12*e,a=0,l=n,o=0,r=n;6e5<n&&n<=12e5?(a=(.025*(n-6e5)/12).toFixed(2),r=n-(o=.025*(n-6e5))):12e5<n&&n<=24e5?(a=((15e3+.125*(n-12e5))/12).toFixed(2),r=n-(o=15e3+.125*(n-12e5))):24e5<n&&n<=36e5?(a=((165e3+.225*(n-24e5))/12).toFixed(2),r=n-(o=165e3+.225*(n-24e5))):36e5<n&&n<=6e6?(a=((435e3+.275*(n-36e5))/12).toFixed(2),r=n-(o=435e3+.275*(n-36e5))):6e6<n&&(a=((1095e3+.35*(n-6e6))/12).toFixed(2),o=1095e3+.35*(n-6e6)),t=((n-o)/12).toFixed(2),r=(n-o).toFixed(2),document.getElementById("monthlyIncome").value=numberWithCommas(e),document.getElementById("monthlyTax").value=numberWithCommas(a),document.getElementById("salaryAfterTax").value=numberWithCommas(t),document.getElementById("yearlyIncome").value=numberWithCommas(l),document.getElementById("yearlyTax").value=numberWithCommas(o),document.getElementById("yearlyIncomeAfterTax").value=numberWithCommas(r);const m=convertToPercentage(e,a,t);$(document).ready(function(){ShowCharts();var e=$("#chart-line"),t=$("#chart-line-2");myLineChart&&myLineChart2?(myLineChart.data.datasets[0].data=[m[0],m[1]],myLineChart.data.labels=["Tax "+m[0]+"%","Income "+m[1]+"%"],myLineChart.update(),myLineChart2.data.datasets[0].data=[r,l],myLineChart2.data.labels=["Net income","Gross income"],myLineChart2.update()):(myLineChart=new Chart(e,{type:"pie",data:{datasets:[{data:[m[0],m[1]],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Tax "+m[0]+"%","Income "+m[1]+"%"]}}),myLineChart2=new Chart(t,{type:"pie",data:{datasets:[{data:[r,l],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Net income","Gross income"]}}))})}}}function calculateTax2022_2023(){var e=document.getElementById("monthlySalary");if(clearDigError(),ShowCopy(),19<e.value.length)DigError(),HideCharts();else if("+"===e.value||"+"===e.value||"-"===e.value)signError();else{e=parseFloat(document.getElementById("monthlySalary").value);if(isNaN(e)||"-"===e)Clear();else{var t,n,a=12*e,l=0,o=a,r=0;6e5<a&&a<=12e5?(l=(.025*(a-6e5)/12).toFixed(2),r=.025*(a-6e5)):12e5<a&&a<=24e5?(l=((15e3+.125*(a-12e5))/12).toFixed(2),r=15e3+.125*(a-12e5)):24e5<a&&a<=36e5?(l=((165e3+.2*(a-24e5))/12).toFixed(2),r=165e3+.2*(a-24e5)):36e5<a&&a<=6e6?(l=((435e3+.25*(a-36e5))/12).toFixed(2),r=435e3+.25*(a-36e5)):6e6<a&&a<=12e6?(l=((1005e3+.325*(a-6e6))/12).toFixed(2),r=1005e3+.325*(a-6e6)):12e6<a&&(l=((2955e3+.35*(a-12e6))/12).toFixed(2),r=2955e3+.35*(a-12e6)),t=((a-r)/12).toFixed(2),n=(a-r).toFixed(2),document.getElementById("monthlyIncome").value=numberWithCommas(e),document.getElementById("monthlyTax").value=numberWithCommas(l),document.getElementById("salaryAfterTax").value=numberWithCommas(t),document.getElementById("yearlyIncome").value=numberWithCommas(o),document.getElementById("yearlyTax").value=numberWithCommas(r),document.getElementById("yearlyIncomeAfterTax").value=numberWithCommas(n);const m=convertToPercentage(e,l,t);$(document).ready(function(){ShowCharts();var e=$("#chart-line"),t=$("#chart-line-2");myLineChart&&myLineChart2?(myLineChart.data.datasets[0].data=[m[0],m[1]],myLineChart.data.labels=["Tax "+m[0]+"%","Income "+m[1]+"%"],myLineChart.update(),myLineChart2.data.datasets[0].data=[n,o],myLineChart2.data.labels=["Net income","Gross income"],myLineChart2.update()):(myLineChart=new Chart(e,{type:"pie",data:{datasets:[{data:[m[0],m[1]],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Tax "+m[0]+"%","Income "+m[1]+"%"]}}),myLineChart2=new Chart(t,{type:"pie",data:{datasets:[{data:[n,o],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Net income","Gross income"]}}))})}}}function calculateTax2021_2022(){var e=document.getElementById("monthlySalary");if(clearDigError(),ShowCopy(),19<e.value.length)DigError(),HideCharts();else if("+"===e.value||"+"===e.value||"-"===e.value)signError();else{e=parseFloat(document.getElementById("monthlySalary").value);if(isNaN(e)||"-"===e)Clear();else{var t,n,a=12*e,l=0,o=a,r=0;6e5<a&&a<=12e5?(l=(.05*(a-6e5)/12).toFixed(2),r=.05*(a-6e5)):1200001<a&&a<=18e5?(l=((3e4+.1*(a-12e5))/12).toFixed(2),r=3e4+.1*(a-12e5)):1800001<a&&a<=25e5?(l=((9e4+.15*(a-18e5))/12).toFixed(2),r=9e4+.15*(a-18e5)):2500001<a&&a<=35e5?(l=((195e3+.175*(a-25e5))/12).toFixed(2),r=195e3+.175*(a-25e5)):3500001<a&&a<=5e6?(l=((37e4+.2*(a-35e5))/12).toFixed(2),r=37e4+.2*(a-35e5)):5e6<a&&a<=8e6?(l=((67e4+.225*(a-5e6))/12).toFixed(2),r=67e4+.225*(a-5e6)):8000001<a&&a<=12e6?(l=((1345e3+.25*(a-8e6))/12).toFixed(2),r=1345e3+.25*(a-8e6)):12000001<a&&a<=3e7?(l=((2345e3+.275*(a-12e6))/12).toFixed(2),r=2345e3+.275*(a-12e6)):30000001<a&&a<=5e7?(l=((7295e3+.3*(a-3e7))/12).toFixed(2),r=7295e3+.3*(a-3e7)):50000001<a&&a<=75e6?(l=((13295e3+.325*(a-5e7))/12).toFixed(2),r=13295e3+.325*(a-5e7)):75e6<a&&(l=((2142e4+.35*(a-75e6))/12).toFixed(2),r=2142e4+.35*(a-75e6)),t=((a-r)/12).toFixed(2),n=(a-r).toFixed(2),document.getElementById("monthlyIncome").value=numberWithCommas(e),document.getElementById("monthlyTax").value=numberWithCommas(l),document.getElementById("salaryAfterTax").value=numberWithCommas(t),document.getElementById("yearlyIncome").value=numberWithCommas(o),document.getElementById("yearlyTax").value=numberWithCommas(r),document.getElementById("yearlyIncomeAfterTax").value=numberWithCommas(n);const m=convertToPercentage(e,l,t);$(document).ready(function(){ShowCharts();var e=$("#chart-line"),t=$("#chart-line-2");myLineChart&&myLineChart2?(myLineChart.data.datasets[0].data=[m[0],m[1]],myLineChart.data.labels=["Tax "+m[0]+"%","Income "+m[1]+"%"],myLineChart.update(),myLineChart2.data.datasets[0].data=[n,o],myLineChart2.data.labels=["Net income","Gross income"],myLineChart2.update()):(myLineChart=new Chart(e,{type:"pie",data:{datasets:[{data:[m[0],m[1]],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Tax "+m[0]+"%","Income "+m[1]+"%"]}}),myLineChart2=new Chart(t,{type:"pie",data:{datasets:[{data:[n,o],backgroundColor:["rgba(255, 0, 0)","rgba(16,132,68)"]}],labels:["Net income","Gross income"]}}))})}}}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Clear(){selectOptionChanged(),clearDigError(),HideCopy(),HideCharts(),document.getElementById("selected-year").style.visibility="visible",document.getElementById("monthlyIncome").innerHTML="Monthly Income: ",document.getElementById("monthlyTax").innerHTML="Monthly Tax: ",document.getElementById("salaryAfterTax").innerHTML="Monthly Salary After Tax: ",document.getElementById("yearlyIncome").innerHTML="Yearly Income: ",document.getElementById("yearlyTax").innerHTML="Yearly Tax: ",document.getElementById("yearlyIncomeAfterTax").innerHTML="Yearly Income After Tax: "}function DigError(){document.getElementById("digitError").innerHTML="Only 19 digits are allowed",HideCopy(),emptyEv()}function HideCopy(){document.getElementById("copy-button").style.display="none"}function ShowCopy(){document.getElementById("copy-button").style.display="flex"}function ShowCharts(){document.getElementById("page-content").style.visibility="visible",document.getElementById("page-content-2").style.visibility="visible",document.getElementById("selected-year").style.visibility="visible";var e=document.querySelector(".charts-container");e&&(screen.width<400?e.style.display="block":e.style.display="flex")}function HideCharts(){document.getElementById("page-content").style.visibility="hidden",document.getElementById("page-content-2").style.visibility="hidden";var e=document.querySelector(".charts-container");e&&(e.style.display="none")}function clearDigError(){document.getElementById("digitError").innerHTML=""}function signError(){document.getElementById("digitError").innerHTML="Only numbers are allowed Please dont use signs",emptyEv()}function emptyEv(){document.getElementById("selected-year").style.visibility="hidden",document.getElementById("monthlyIncome").innerHTML="",document.getElementById("monthlyTax").innerHTML="",document.getElementById("salaryAfterTax").innerHTML="",document.getElementById("yearlyIncome").innerHTML="",document.getElementById("yearlyTax").innerHTML="",document.getElementById("yearlyIncomeAfterTax").innerHTML=""}function convertToPercentage(e,t,n){n=n/e*100;return[(t/e*100).toFixed(2),n.toFixed(2)]}let fun=2324;function selectOptionChanged(){var e=document.getElementById("yearSelection"),e=e.options[e.selectedIndex].value;console.log(e),"2023-2024"===e?(Clear_Opt(),fun=2324,Show_opt()):"2022-2023"===e?(Clear_Opt(),fun=2223,Show_opt()):"2021-2022"===e?(Clear_Opt(),fun=2122,Show_opt()):"2020-2021"===e?(Clear_Opt(),fun=2021,Show_opt()):"2019-2020"===e&&(Clear_Opt(),fun=1920,Show_opt()),document.getElementById("selected-year").innerHTML="Selected Year: "+e}function functionToBeCalled(e){console.log(e),2324===fun&&calculateTax2023_2024(),2223===fun&&calculateTax2022_2023(),2122===fun&&calculateTax2021_2022(),2021===fun&&calculateTax2021_2022(),1920===fun&&calculateTax2021_2022()}function Clear_Opt(){document.getElementById("digitError").innerHTML="Under Construction",document.getElementById("monthlyIncome").innerHTML="",document.getElementById("monthlyTax").innerHTML="",document.getElementById("salaryAfterTax").innerHTML="",document.getElementById("yearlyIncome").innerHTML="",document.getElementById("yearlyTax").innerHTML="",document.getElementById("yearlyIncomeAfterTax").innerHTML="",document.getElementById("page-content").style.visibility="hidden",document.getElementById("page-content-2").style.visibility="hidden",document.getElementById("selected-year").style.visibility="visible"}function Show_opt(){document.getElementById("digitError").innerHTML="",document.getElementById("monthlyIncome").innerHTML="Monthly Income: ",document.getElementById("monthlyTax").innerHTML="Monthly Tax: ",document.getElementById("salaryAfterTax").innerHTML="Monthly Salary After Tax: ",document.getElementById("yearlyIncome").innerHTML="Yearly Income: ",document.getElementById("yearlyTax").innerHTML="Yearly Tax: ",document.getElementById("yearlyIncomeAfterTax").innerHTML="Yearly Income After Tax: "}document.addEventListener("contextmenu",function(e){e.preventDefault()});var allowedSites=["https://ateebnoone.github.io/TaxCal/V2/","https://taxcal-392110.web.app/"];const currentUrl=window.location.href,parentUrl=document.referrer;console.log("Par: ",parentUrl),console.log("Curr: ",currentUrl);let urlMatch=!1;for(let e=0;e<allowedSites.length;e++)if(allowedSites[e]===currentUrl){urlMatch=!0;break}urlMatch;var allowedFrames=["https://www.altafnsonsassociates.pk/","https://afm-solutions.blogspot.com/"];let frameurlMatch=!1;for(let e=0;e<allowedFrames.length;e++)if(allowedFrames[e]===parentUrl){frameurlMatch=!0;break}function copyResults(){var e=document.querySelectorAll(".flex-left table tr"),t=document.querySelectorAll(".flex-right table tr"),n="Monthly Data:\n\n",e=(e.forEach(function(e){var t=e.querySelector(".label").innerText,e=e.querySelector(".value").value;n+=t+" : "+e+"\n"}),n+="\nYearly Data:\n\n",t.forEach(function(e){var t=e.querySelector(".label").innerText,e=e.querySelector(".value").value;n+=t+" : "+e+"\n"}),n+="\nCopied from https://www.altafnsonsassociates.pk/ Salary Tax Calculator",document.createElement("textarea")),a=(e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),document.getElementById("copyStatus"));a.textContent="Results copied!",setTimeout(function(){a.textContent=""},1500)}frameurlMatch;var copyButton=document.querySelector(".copy-button");function openTab(e,t){var n=document.getElementsByClassName("tabcontent");for(let e=0;e<n.length;e++)n[e].style.display="none";var a=document.getElementsByClassName("tablinks");for(let e=0;e<a.length;e++)a[e].className=a[e].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}copyButton.addEventListener("click",copyResults);const defaultTab=document.getElementsByClassName("tablinks")[0];defaultTab.click();